{"ast":null,"code":"import React from 'react';\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { AuthProvider, useAuth } from \"./src/contexts/AuthContext\";\nimport WelcomeScreen from \"./src/screens/WelcomeScreen\";\nimport LoginScreen from \"./src/screens/LoginScreen\";\nimport RegisterScreen from \"./src/screens/RegisterScreen\";\nimport ProfileScreen from \"./src/screens/ProfileScreen\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Stack = createNativeStackNavigator();\nvar AppNavigator = function AppNavigator() {\n  var _useAuth = useAuth(),\n    authState = _useAuth.authState,\n    isLoading = _useAuth.isLoading;\n  if (isLoading) {\n    return _jsx(Stack.Navigator, {\n      screenOptions: {\n        headerShown: false\n      },\n      children: _jsx(Stack.Screen, {\n        name: \"Welcome\",\n        component: WelcomeScreen\n      })\n    });\n  }\n  return _jsx(Stack.Navigator, {\n    initialRouteName: \"Welcome\",\n    screenOptions: {\n      headerShown: false,\n      animation: 'slide_from_right',\n      gestureEnabled: true\n    },\n    children: authState.isAuthenticated ? _jsx(Stack.Screen, {\n      name: \"Profile\",\n      component: ProfileScreen\n    }) : _jsxs(React.Fragment, {\n      children: [_jsx(Stack.Screen, {\n        name: \"Welcome\",\n        component: WelcomeScreen\n      }), _jsx(Stack.Screen, {\n        name: \"Login\",\n        component: LoginScreen\n      }), _jsx(Stack.Screen, {\n        name: \"Register\",\n        component: RegisterScreen\n      })]\n    })\n  });\n};\nvar App = function App() {\n  return _jsxs(AuthProvider, {\n    children: [_jsx(StatusBar, {\n      barStyle: \"light-content\",\n      backgroundColor: \"transparent\",\n      translucent: true\n    }), _jsx(NavigationContainer, {\n      children: _jsx(AppNavigator, {})\n    })]\n  });\n};\nexport default App;","map":{"version":3,"names":["React","StatusBar","NavigationContainer","createNativeStackNavigator","AuthProvider","useAuth","WelcomeScreen","LoginScreen","RegisterScreen","ProfileScreen","jsx","_jsx","jsxs","_jsxs","Stack","AppNavigator","_useAuth","authState","isLoading","Navigator","screenOptions","headerShown","children","Screen","name","component","initialRouteName","animation","gestureEnabled","isAuthenticated","Fragment","App","barStyle","backgroundColor","translucent"],"sources":["C:/Users/Jmira/OneDrive/Documents/proyectos_react/KeycloakSSOApp/KeycloakSSOApp/App.tsx"],"sourcesContent":["import React from 'react';\nimport { StatusBar } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { AuthProvider, useAuth } from './src/contexts/AuthContext';\nimport WelcomeScreen from './src/screens/WelcomeScreen';\nimport LoginScreen from './src/screens/LoginScreen';\nimport RegisterScreen from './src/screens/RegisterScreen';\nimport ProfileScreen from './src/screens/ProfileScreen';\n\n// Definir los tipos para la navegación\nexport type RootStackParamList = {\n  Welcome: undefined;\n  Login: undefined;\n  Register: undefined;\n  Profile: undefined;\n};\n\nconst Stack = createNativeStackNavigator<RootStackParamList>();\n\n// Componente que maneja la navegación basada en autenticación\nconst AppNavigator: React.FC = () => {\n  const { authState, isLoading } = useAuth();\n\n  // Mostrar pantalla de carga mientras verifica autenticación\n  if (isLoading) {\n    return (\n      <Stack.Navigator screenOptions={{ headerShown: false }}>\n        <Stack.Screen name=\"Welcome\" component={WelcomeScreen} />\n      </Stack.Navigator>\n    );\n  }\n\n  return (\n    <Stack.Navigator \n      initialRouteName=\"Welcome\"\n      screenOptions={{ \n        headerShown: false,\n        animation: 'slide_from_right',\n        gestureEnabled: true,\n      }}\n    >\n      {authState.isAuthenticated ? (\n        // ✅ USUARIO AUTENTICADO: Solo puede ver Profile\n        <Stack.Screen name=\"Profile\" component={ProfileScreen} />\n      ) : (\n        // ❌ USUARIO NO AUTENTICADO: Puede ver Welcome, Login y Register\n        <React.Fragment>\n          <Stack.Screen name=\"Welcome\" component={WelcomeScreen} />\n          <Stack.Screen name=\"Login\" component={LoginScreen} />\n          <Stack.Screen name=\"Register\" component={RegisterScreen} />\n        </React.Fragment>\n      )}\n    </Stack.Navigator>\n  );\n};\n\nconst App: React.FC = () => {\n  return (\n    <AuthProvider>\n      <StatusBar \n        barStyle=\"light-content\" \n        backgroundColor=\"transparent\"\n        translucent={true}\n      />\n      <NavigationContainer>\n        <AppNavigator />\n      </NavigationContainer>\n    </AuthProvider>\n  );\n};\n\nexport default App;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,OAAAC,SAAA;AAE1B,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,0BAA0B,QAAQ,gCAAgC;AAC3E,SAASC,YAAY,EAAEC,OAAO;AAC9B,OAAOC,aAAa;AACpB,OAAOC,WAAW;AAClB,OAAOC,cAAc;AACrB,OAAOC,aAAa;AAAoC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAUxD,IAAMC,KAAK,GAAGX,0BAA0B,CAAqB,CAAC;AAG9D,IAAMY,YAAsB,GAAG,SAAzBA,YAAsBA,CAAA,EAAS;EACnC,IAAAC,QAAA,GAAiCX,OAAO,CAAC,CAAC;IAAlCY,SAAS,GAAAD,QAAA,CAATC,SAAS;IAAEC,SAAS,GAAAF,QAAA,CAATE,SAAS;EAG5B,IAAIA,SAAS,EAAE;IACb,OACEP,IAAA,CAACG,KAAK,CAACK,SAAS;MAACC,aAAa,EAAE;QAAEC,WAAW,EAAE;MAAM,CAAE;MAAAC,QAAA,EACrDX,IAAA,CAACG,KAAK,CAACS,MAAM;QAACC,IAAI,EAAC,SAAS;QAACC,SAAS,EAAEnB;MAAc,CAAE;IAAC,CAC1C,CAAC;EAEtB;EAEA,OACEK,IAAA,CAACG,KAAK,CAACK,SAAS;IACdO,gBAAgB,EAAC,SAAS;IAC1BN,aAAa,EAAE;MACbC,WAAW,EAAE,KAAK;MAClBM,SAAS,EAAE,kBAAkB;MAC7BC,cAAc,EAAE;IAClB,CAAE;IAAAN,QAAA,EAEDL,SAAS,CAACY,eAAe,GAExBlB,IAAA,CAACG,KAAK,CAACS,MAAM;MAACC,IAAI,EAAC,SAAS;MAACC,SAAS,EAAEhB;IAAc,CAAE,CAAC,GAGzDI,KAAA,CAACb,KAAK,CAAC8B,QAAQ;MAAAR,QAAA,GACbX,IAAA,CAACG,KAAK,CAACS,MAAM;QAACC,IAAI,EAAC,SAAS;QAACC,SAAS,EAAEnB;MAAc,CAAE,CAAC,EACzDK,IAAA,CAACG,KAAK,CAACS,MAAM;QAACC,IAAI,EAAC,OAAO;QAACC,SAAS,EAAElB;MAAY,CAAE,CAAC,EACrDI,IAAA,CAACG,KAAK,CAACS,MAAM;QAACC,IAAI,EAAC,UAAU;QAACC,SAAS,EAAEjB;MAAe,CAAE,CAAC;IAAA,CAC7C;EACjB,CACc,CAAC;AAEtB,CAAC;AAED,IAAMuB,GAAa,GAAG,SAAhBA,GAAaA,CAAA,EAAS;EAC1B,OACElB,KAAA,CAACT,YAAY;IAAAkB,QAAA,GACXX,IAAA,CAACV,SAAS;MACR+B,QAAQ,EAAC,eAAe;MACxBC,eAAe,EAAC,aAAa;MAC7BC,WAAW,EAAE;IAAK,CACnB,CAAC,EACFvB,IAAA,CAACT,mBAAmB;MAAAoB,QAAA,EAClBX,IAAA,CAACI,YAAY,IAAE;IAAC,CACG,CAAC;EAAA,CACV,CAAC;AAEnB,CAAC;AAED,eAAegB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}